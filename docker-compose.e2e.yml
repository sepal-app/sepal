version: '3.8'

services:
  e2e-chromium:
    build:
      context: .
      dockerfile: Dockerfile.e2e
      args:
        BROWSER: chromium
    environment:
      - PLAYWRIGHT_BROWSER=chromium
    volumes:
      # Mount source for live editing
      - ./bases/app/test:/app/bases/app/test:ro
      - ./components:/app/components:ro

  e2e-firefox:
    build:
      context: .
      dockerfile: Dockerfile.e2e
      args:
        BROWSER: firefox
    environment:
      - PLAYWRIGHT_BROWSER=firefox
    volumes:
      # Mount source for live editing
      - ./bases/app/test:/app/bases/app/test:ro
      - ./components:/app/components:ro
